"use strict";var SimpleGoals=function(){function i(){for(var e=document.getElementsByClassName("simplegoals-achievement"),n=0;n<e.length;n++)e[n].style.top="".concat(1+7*n,"em")}function o(){var e="",n=Object.keys(c).sort(function(e,n){return c[n].unlocked-c[e].unlocked}),o=!0,t=!1,i=void 0;try{for(var l,s=n[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var a=l.value;e+='\n      <div class="simplegoals-overview-goal '.concat(c[a].unlocked?"":"simplegoals-overview-goal--locked",'">\n        <div class="simplegoals-overview-goal__icon">\n          <img src="cup.svg" />\n        </div>\n        <div class="simplegoals-overview-goal__body">\n          <h3 class="simplegoals-overview-goal__name">').concat(c[a].name,'</h3>\n          <p class="simplegoals-overview-goal__description">\n            ').concat(c[a].descripton,"\n          </p>\n        </div>\n      </div>\n      ")}}catch(e){t=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(t)throw i}}return e}function n(){!function(){var e='\n    <div class="simplegoals-overview" id="simplegoals-overview">\n      <div class="simplegoals-overview__wrapper">\n        <div class="simplegoals-overview__body">\n          <h1 class="simplegoals-overview__title">Achievements</h1>\n          <p class="simplegoals-overview__subtitle">Complete tasks and unlock achievements</p>\n          <div class="simplegoals-overview__goals" id="simplegoals-overview__goals">\n          '+o()+'\n          </div>\n          <button class="simplegoals-overview__close-button" id="simplegoals-overview__close-button">\n            Close\n          </button>\n          <div class="simplegoals-overview__attribution">\n            Powered by <a class="simplegoals-overview__attribution-link" href="https://simplegoals.co" target="_blank">SimpleGoals</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    ',n=(new DOMParser).parseFromString(e,"text/html").body.firstChild;document.body.appendChild(n)}()}function t(e,n){var o=function(e){var n=0;if(0==e.length)return n;for(var o=0;o<e.length;o++){n=(n<<5)-n+e.charCodeAt(o),n&=n}return n}(e),t=function(e,n,o){var t='\n    <div class="simplegoals-achievement" id="simplegoals-achievement-'.concat(e,'">\n      <div class="simplegoals-achievement__icon">\n        <img src="cup.svg" />\n      </div>\n      <div class="simplegoals-achievement__body">\n        <p class="simplegoals-achievement__notification">\n          New achievement unlocked\n        </p>\n        <p class="simplegoals-achievement__name" id="simplegoals-achievement__name">').concat(n.name,'</p>\n      </div>\n      <div class="simplegoals-achievement__button" id="simplegoals-achievement__button-').concat(e,'" role="button">').concat(o,'</div>\n      <button class="simplegoals-achievement__close-button" id="simplegoals-achievement__close-button-').concat(e,'">\n        <svg viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <g>\n            <path d="M50 50L450 450" stroke-width="100" stroke-linecap="round"/>\n            <path d="M50 450L450 50" stroke-width="100" stroke-linecap="round"/>\n          </g>\n        </svg>\n      </button>\n    </div>\n    '),i=(new DOMParser).parseFromString(t,"text/html").body.firstChild;document.getElementById("simplegoals-overview-box");return document.body.appendChild(i),i}(o,n,"Learn more");i(),t.classList.add("simplegoals-achievement--opened"),d(o,t),a.timeout&&(achievementTimeout=setTimeout(function(){return m(t)},a.timeout))}function l(){r.scrollTo(0,0),r.classList.add("simplegoals-overview--opened")}function s(){r=document.getElementById("simplegoals-overview"),document.getElementById("simplegoals-overview__close-button").addEventListener("click",function(e){r.classList.remove("simplegoals-overview--opened")})}var a={timeout:0,onGoalUnlock:function(e){}},c=null,r=null,v=function(){return"undefined"!=typeof Storage&&JSON.parse(localStorage.getItem("simplegoals-storage"))||[]},m=function(e){e.classList.remove("simplegoals-achievement--opened"),e.classList.add("simplegoals-achievement--closed"),setTimeout(function(){e.parentNode.removeChild(e),i()},2e3)},d=function(e,n){n.addEventListener("click",function(e){return n.classList.toggle("simplegoals-achievement--clicked")}),document.getElementById("simplegoals-achievement__close-button-".concat(e)).addEventListener("click",function(e){return m(n)}),document.getElementById("simplegoals-achievement__button-".concat(e)).addEventListener("click",function(e){m(n),setTimeout(l,200)})},u=function(e){c[e]&&(c[e].unlocked||(c[e].unlocked=!0,a.onGoalUnlock(e),function(e){if("undefined"!=typeof Storage){var n=v();n.push(e),localStorage.setItem("simplegoals-storage",JSON.stringify(n))}}(e),t(e,c[e]),document.getElementById("simplegoals-overview__goals").innerHTML=o()))};return{init:function(e){!function(e){e.timeout&&(a.timeout=e.timeout),e.onGoalUnlock&&(a.onGoalUnlock=e.onGoalUnlock)}(e),function(e){c=e.goals;for(var n=v(),o=0,t=Object.keys(c);o<t.length;o++){var i=t[o];c[i].unlocked=n.includes(i)}}(e),n(),s(),document.addEventListener("click",function(e){e.target.dataset.simplegoalsUnlock&&(e.preventDefault(),u(e.target.dataset.simplegoalsUnlock))},!1)},unlock:u,showOverview:l}}();